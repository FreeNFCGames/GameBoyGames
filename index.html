<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>EmulatorJS Game Loader</title>
    <script src="data/loader.js"></script>
    <style>
      html, body {
        margin: 0;
        padding: 0;
        background: black;
        height: 100%;
        overflow: hidden;
      }
      #game {
        width: 100vw;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <div id="game">Loading...</div>
    <script>
      const params = new URLSearchParams(window.location.search);
      const core = params.get('core') || new URLSearchParams(location.hash.slice(1)).get('core');
      const rom = params.get('rom') || new URLSearchParams(location.hash.slice(1)).get('rom');

      if (core && rom) {
        EJS_player = "#game";
        EJS_core = core;
        EJS_gameUrl = rom;
        EJS_pathtodata = "data/";
        EJS_startOnLoaded = true;
        EJS_start();
      } else {
        document.getElementById("game").innerText = "Missing core or ROM in the URL.";
      }
    </script>
  </body>
</html>
